# 第一次作业(第一、二章)

## 第一章习题

### 1-02 简述分组交换的要点

分组交换采用的是存储转发技术。路由器是实现分组转发的关键构件，路由器收到分组后将其暂存下来，检查首部和查找转发表后，再将分组转发出去

> 分组交换最主要的特点是**采用了存储转发技术**
> * 将一段报文分成多个分组，并给每个分组添加首部
> * 经路由器暂存转发
> * 在目的地进行合并

### 1-22 网络协议的三要素是什么？各有什么含义？

网络协议的三要素分别为：语法、语义和同步

语法：数据与控制信息的结构或格式

语义：需要发出何种控制信息，完成什么动作，以及作出何种响应

同步：事件实现顺序的详细说明

### 1-28 计算题如图.

![1-28](images/2023-03-12-12-31-24.png)

首先需要写明的几个换算关系

$1 MB = 2^{20} bit$

$1 KB = 2^{10} bit$

$1 B = 8 bit$

$1 Mbit/s = 10^6 bit/s$

$1 Kbit/s = 10^3 bit/s$

> 注意，在容量的换算关系是以 $2^{10}$ 为转换单位
> 而在速率的换算关系则是以 $1 \times 10^3$ 为转换单位
> 但需要灵活应对，因为 $2^{10} = 1024$ 和 $1 \times 10^3 = 1000$ 近似，有些题目中为了方便会将二者看作近似相等

#### (1)

发送时间为：文件大小 / 数据发送速率

由题可知，传送数据前还需要 2RTT 的时间建立TCP连接，因此建立连接的时间为：2RTT

最后，题目最后一句话：**接收方收完该文件的最后一个比特所需的时间**。因此，还需要加上最后一个分组从发送方到接收方这个单程传送时间即半个RTT：0.5RTT

综述所述，可得：

发送这些分组的时间：$t_1 = \frac{1.5MB}{10Mbit /s} = \frac{1.5\times 2^{20} \times 8 bit}{10 \times 10^6} = 1.258 s$

总时长为：$t = t_1 + 2 RTT + 0.5 RTT = 1.258s + 0.16s + 0.04s = 1.458s$

#### (2)

由题2所增加的一个条件 **每发送完一个分组后要等待一个 RTT 时间才能发送下一个分组** 可知，需要计算这个等待总时长。

分组总数为：$\frac{1.5MB}{1KB} = \frac{1.5 \times 2 ^{20}}{1 \times 2^{10}} = 1536$ 个

因此，中间需要间隔等待的次数是 1535 次（因为发送第一个分组不需要等待），等待时间为：1535 RTT = 122.8 s

题2只是在题1的基础上多了个等待时间，发送分组时间、建立连接时间以及最后一个分组从发送方到接收方的单程传送时间仍与题1相同

因此，总时长为：$t = 122.8 + 1.458 = 124.258s$

#### (3)

题3 与 题4 都不需要考虑发送数据所需时间

题3 中的关键信息是**在每一个RTT往返时间内只能发送20个分组**。因此要以20个分组为单位来计算需要多少个 RTT 往返时间

由题2 可知，分组总数为 1536个

而 $\frac{1536}{20} = 76 \cdots 16$ 即76个RTT往返时间可以发送 $20\times 76 = 1520$ 个分组，余下的16个分组在最后一次传送过程中一次性发送完毕

而我们在计算最后一次的传送过程中不需要算上一个完整的 RTT 往返时间，因为题目的根本是要求**接收方收完该文件的最后一个比特所需的时间**，所以最后一次传送过程中16个分组的最后一个分组从发送方到接收方需要的时间仍然是 0.5 RTT

而建立连接的时间仍为 2 RTT

因此，总时长为：76 RTT + 0.5 RTT + 2 RTT = 78.5 RTT = 6280 ms = 6.28s

#### (4)

由题可知，该规律是一个首项为1，公比为2的等比数列，而 **n个RTT后总共发送的分组数量相当于等比数列求和**

经过 n 个 RTT 后共发送了 $2 ^ n - 1$ 个分组

当 n = 10 时，发送了 $2^{10} - 1 = 1023$ 个分组，总共有1536个分组，因此此时还不足以发送全部分组

当 n = 11 时，发送了 $2^{11} - 1 = 2047$ 个分组，此时足够发送全部分组

因此经过了10个RTT后，已发送 1023 个分组，剩余分组将一次性发送完毕，此时的情况与题3类似，只需要算最后一次传送过程中剩余分组的最后一个分组从发送方到接收方需要的时间，仍然是 0.5 RTT

建立连接的时间仍为 2 RTT

因此，总时长：(2 + 0.5 + 10) RTT = 1 s

## 第二章习题

### 2-01 物理层要解决哪些问题？物理层的主要特点是什么？

#### 1 解决问题

1. 物理层考虑的是**怎样才能在连接各种计算机的传输媒体上传输数据比特流**，而不是指具体的传输媒体，为此，物理层应该**解决物理连接的建立、维持和释放问题**

2. 物理层要**尽可能地屏蔽掉物理设备和传输媒体，通信手段的差异**，使数据链路层感觉不到这些差异，只考虑完成本层的协议和服务

3. **在两个相邻系统之间唯一地标识数据电路**

#### 2 主要特点

1. 物理层协议涉及的范围广泛，沿用已存在的物理规程，将物理层确定为描述与传输媒体接口的机械，电气，功能和规程特性
2. 物理连接的方式很多，传输媒体的种类也很多，因此，具体的物理协议相当复杂

### 2-13 为什么要使用信道复用技术？常见的信道复用技术有哪些？

原因：通过共享信道，最大限度地提高信道的利用率

常见的信道复用技术：频分、时分、波分、码分复用

## 第三章习题

### 3-09 一个PPP帧的数据部分（用十六进制写出）是7D 5E FE 27 7D 5D 7D 5D 65 7D 5E。试问真正的数据是什么（用十六进制写出）

由题可知，PPP帧的数据部分是：7D 5E FE 27 7D 5D 7D 5D 65 7D 5E

要将上述数据中的 **7D 5E** 还原成 **7E** , **7D 5D** 还原成 **7D**

因此，真正的数据是：7E FE 27 7D 7D 65 7E

> PPP帧规定：当信息字段中出现和标志字段一样的比特0x7E时，就必须采取一些措施。因PPP协议是面向字符型的，所以它不能采用HDLC所使用的零比特插入法，而是使用一种特殊的字符填充。
具体的做法是将信息字段中出现的每一个**0x7E**（(符号0x表示它后面的字符是用十六进制表示的）字节转变成**2字节序列（0x7D，0x5E）**。若信息字段中出现一个**0x7D**的字节，则将其转变成**2字节序列（0x7D，0x5D）**
> 7D 5E 实际是7E ; 7D 5D 实际是7D

### 3-10 PPP协议使用同步传输技术传送比特串0110111111111100。试问经过零比特填充后变成怎样的比特串？若接收端收到的PPP帧的数据部分是0001110111110111110110，问删除发送端加入的零比特后变成怎样的比特串？

原始比特串为：0110111111111100

零比特填充后的比特串：011011111**0**11111**0**00

> **零比特填充就是在连续五个1之后必须插入一个0**。上述加粗的比特0就是填充的

接收端收到的比特串：000111011111**0**11111**0**110

删除零比特后的比特串：00011101111111111110

> **删除发送端加入的零比特，就是把一连5 个1 后面的0 删除**。上述接收端收到的比特串中加粗的比特0就是要删除的

### 3-24

### 3-27