# JavaWeb

## 1 数据库

### 1.1 数据库设计

#### 1.1.1 表关系

表关系分为：一对一、一对多（多对一）、多对多

![图1-1-1 表关系](images/2024-03-13-09-40-22.png)

#### 1.1.2 表关系的实现

![图1-1-2 一对多表关系的实现](images/2024-03-13-09-42-14.png)

实现方式就是在多的那一方建立外键，指向一的那方的主键

![图1-1-3 多对多表关系的实现](images/2024-03-13-09-46-48.png)

实现方式为**建立第三张中间表**，并且该表至少包含两个外键，分别关联双方的**主键**

![图1-1-4 外键约束](images/2024-03-13-10-35-41.png)

![图1-1-5 一对一表关系的实现](images/2024-03-13-10-39-59.png)

## 2 JDBC

### 2.1 简介

![图2-1-1 JDBC简介](images/2024-03-13-11-15-14.png)

1. 什么是JDBC？
   
   JDBC是使用Java语言操作关系型数据库的一套API，**本质**就是定义的可以操作不同关系数据库而**无需关注其底层细节**的**接口**

### 2.2 快速入门案例

![图2-2-1 案例1](images/2024-03-13-11-33-55.png)

该案例想要更新数据库db1中表account的数据，步骤同上

### 2.3 API介绍

#### 2.3.1 DriverManager

主要是两个作用：

1. 加载驱动
2. 创建数据库连接对象

#### 2.3.2 Connection

两个作用：

1. 获取执行SQL的对象
2. 管理事务

![图2-3-1 JDBC事务管理](images/2024-03-13-11-49-08.png)

#### 2.3.3 Statement

![图2-3-2 Statement作用](images/2024-03-13-11-56-05.png)

#### 2.3.4 ResultSet

#### 2.3.5 prepareStatement

![图2-3-3 prepareStatement好处](images/2024-03-13-18-47-01.png)

### 2.4 数据库连接池

![图2-4-1 数据库连接池简介](images/2024-03-13-18-52-13.png)